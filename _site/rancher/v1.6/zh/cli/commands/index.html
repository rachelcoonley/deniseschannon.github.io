<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Rancher CLI Commands and Options</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Documentation for Rancher">
    <link href="/docs/favicon.png" rel="shortcut icon" type="image/png" sizes="16x16">
    <link href="/docs/css/syntax.css?t=2017-12-04 13:23:19 -0800" rel="stylesheet">
    <link href="/docs/vendor/font-awesome/css/font-awesome.min.css?t=2017-12-04 13:23:19 -0800" rel="stylesheet">
    <link href="/docs/vendor/lato/lato.css?t=2017-12-04 13:23:19 -0800" rel="stylesheet">
    <link href="/docs/css/lacsso.css?t=2017-12-04 13:23:19 -0800" rel="stylesheet">
    <link href="/docs/css/slicknav.css?t=2017-12-04 13:23:19 -0800" rel="stylesheet">
    <link href="/docs/css/rancher-docs.css?t=2017-12-04 13:23:19 -0800" rel="stylesheet">
</head>

<body class="bg-default">
    <div class="row body">
    <header class="page-header">
      <div class="wrap clearfix">
        <nav role="navigation" id="js-responsive-nav" class="clearfix responsive-nav"><a class="nav-toggle"></a>
          <a class="nav-logo logo-caas btn bg-transparent"><img src="/docs/img/rancher-logo-nopadding.svg" class="img-responsive" alt="Rancher" data-pin-nopin="true"></a>
          <ul class="nav-main nav-list">
            <li><a href="http://rancher.com/">Back to Rancher.com</a></li>

            <ul class="nav navbar-nav pull-right">
              <li><a href="https://github.com/rancher/rancher#installation" id="rnchrdm-nav-download" title="Download Rancher" target="_blank"><img src="/docs/img/header-download.svg" alt="Download Rancher" height="12" width="14"> Download Rancher</a></li>
              <li><a href="http://rancher.com/support" id="rnchrdm-nav-reqsupport" title="Request Support"><i class="fa fa-question-circle" aria-hidden="true"></i>
 Request Support</a></li>
            </ul>
          </ul>
      </nav>
    </div>
    <h1>Rancher Docs</h1>
  </header>
  <div class="clearfix"></div>
  <div class="wrap clearfix">
        <div class="col span-3 mt-0 mr-0 sidebar">
        <!--Start Google Search-->
              <div class="gcse-search" id="google-search"></div>
              <script>
              var match = window.location.pathname.match(/\/rancher\/([^\/]+)/);
              if (match) {
                  document.getElementById('google-search').setAttribute('data-defaultToRefinement', match[1]);
              }

              (function() {
                  var cx = '007896692384436596364:60akf3bfmxm';
                  var gcse = document.createElement('script');
                  gcse.type = 'text/javascript';
                  gcse.async = true;
                  gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                  var s = document.getElementsByTagName('script')[0];
                  s.parentNode.insertBefore(gcse, s);
              })();
              </script>
              <!--End Google Search-->

<ul id="menu">
    <li><a href="/docs/rancher/v1.6/zh/">简介</a></li>
    <li><a href="/docs/rancher/v1.6/zh/quick-start-guide/">快速开始</a></li>
    <li>
        <a href="#">安装Rancher<i class="pull-right fa fa-angle-down"></i></a>
        <ul>
          <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/">安装 Rancher Server</a></li>
          <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/#安装需求">安装需求</a></li>
          <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/#rancher-server-标签">Rancher Server标签</a></li>
          <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/#启动-rancher-server---单容器部署-non-ha">启动 Rancher Server - 单容器部署</a></li>
          <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/#启动-rancher-server---多节点的ha部署">启动 Rancher Server - 多节点的HA部署</a></li>
          <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/#ha部署需求">HA部署需求</a></li>
          <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/#启动-rancher-server---单容器部署---使用外部数据库">启动 Rancher Server - 单容器部署 - 使用外部数据库</a></li>
          <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/#启动-rancher-server---单容器部署---挂载mysql数据库的数据目录">启动 Rancher Server - 单容器部署 - 挂载MYSQL数据库的数据目录</a></li>
          <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/#使用aws的elasticclassic-load-balancer作为rancher-server-ha的负载均衡器">使用AWS的ELB作为HA的负载均衡器</a></li>
          <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/#tls认证使用adopenldap">使用TLS认证的AD/OPENLDAP</a></li>
          <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/#在http代理后方启动-rancher-server">在HTTP代理后启动 Rancher Server</a></li>
          <li><a href="/docs/rancher/v1.6/zh/installing-rancher/selinux/">在SELinux模式下使用Rancher</a></li>
          <li>
               <a href="#">安装Rancher并使用SSL<i class="pull-right fa fa-angle-down"></i></a>
               <ul>
                 <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/basic-ssl-config/#需求">需求</a></li>
                 <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/basic-ssl-config/#nginx-配置模版">NGINX配置示例</a></li>
                 <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/basic-ssl-config/#apache-配置例子">Apache配置示例</a></li>
                 <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/basic-ssl-config/#haproxy-配置例子">HAProxy配置示例</a></li>
                 <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/basic-ssl-config/#使用aws的elastic-load-balancer作为rancher-server-ha的负载均衡器并使用ssl">使用AWS的ELB作为HA的负载均衡器并使用SSL</a></li>
                 <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/basic-ssl-config/#f5-big-ip配置示例">F5 BIG-IP配置示例</a></li>
                 <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/basic-ssl-config/#使用自签名证书-beta">使用自签名证书</a></li>
               </ul>
          </li>
          <li>
               <a href="#">内网启动Rancher<i class="pull-right fa fa-angle-down"></i></a>
               <ul>
                 <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/no-internet-access/#使用私有镜像仓库">使用私有镜像仓库</a></li>
                 <li><a href="/docs/rancher/v1.6/zh/installing-rancher/installing-server/no-internet-access/#使用http代理">使用HTTP代理</a></li>
               </ul>
          </li>
        </ul>
    </li>
    <li>
         <a href="#">升级Rancher Server<i class="pull-right fa fa-angle-down"></i></a>
         <ul>
           <li><a href="/docs/rancher/v1.6/zh/upgrading/">升级Rancher Server</a></li>
           <li><a href="/docs/rancher/v1.6/zh/upgrading/#rancher-server-tags">Rancher Server标签</a></li>
           <li><a href="/docs/rancher/v1.6/zh/upgrading/#基础设施服务]">升级基础设施服务</a></li>
           <li><a href="/docs/rancher/v1.6/zh/upgrading/#升级ha架构">升级HA架构的Rancher Server</a></li>
           <li><a href="/docs/rancher/v1.6/zh/upgrading/#单独升级一个容器non-ha---外部数据库">升级非HA模式的Rancher Server - 外部数据库</a></li>
           <li><a href="/docs/rancher/v1.6/zh/upgrading/#单独升级一个容器non-ha---绑定挂载的mysql卷">升级非HA模式的Rancher Server - 绑定挂载的MYSQL卷</a></li>
           <li><a href="/docs/rancher/v1.6/zh/upgrading/#没有互联网访问的rancher服务器">升级内网中的Rancher Server</a></li>
        </ul>
     </li>
    <li>
         <a href="#">系统设置<i class="pull-right fa fa-angle-down"></i></a>
         <ul>
           <li>
                <a href="#">访问控制方式<i class="pull-right fa fa-angle-down"></i></a>
                <ul>
                  <li><a href="/docs/rancher/v1.6/zh/configuration/access-control/#活动目录">Active Directory</a></li>
                  <li><a href="/docs/rancher/v1.6/zh/configuration/access-control/#azure-ad">Azure AD</a></li>
                  <li><a href="/docs/rancher/v1.6/zh/configuration/access-control/#github">Github</a></li>
                  <li><a href="/docs/rancher/v1.6/zh/configuration/access-control/#本地身份认证">本地身份认证</a></li>
                  <li><a href="/docs/rancher/v1.6/zh/configuration/access-control/#openldap">OpenLDAP</a></li>
                  <li><a href="/docs/rancher/v1.6/zh/configuration/access-control/#shibboleth">Shibboleth</a></li>
                </ul>
          </li>
          <li><a href="/docs/rancher/v1.6/zh/configuration/access-control/#访问控制">访问控制</a></li>
          <li><a href="/docs/rancher/v1.6/zh/configuration/access-control/#限制并发登陆">限制并发登陆</a></li>
          <li><a href="/docs/rancher/v1.6/zh/configuration/accounts/">账户</a></li>
          <li><a href="/docs/rancher/v1.6/zh/configuration/settings/#主机注册">注册主机</a></li>
          <li><a href="/docs/rancher/v1.6/zh/configuration/settings/#应用商店">应用商店</a></li>
          <li><a href="/docs/rancher/v1.6/zh/configuration/machine-drivers/">主机驱动</a></li>
        </ul>
    </li>
    <li>
          <a href="#">环境<i class="pull-right fa fa-angle-down"></i></a>
          <ul>
            <li><a href="/docs/rancher/v1.6/zh/environments/">环境管理</a></li>
            <li><a href="/docs/rancher/v1.6/zh/environments/#什么是环境模版">环境模版</a></li>
            <li><a href="/docs/rancher/v1.6/zh/environments/#成员角色">环境中的角色</a></li>
          </ul>
    </li>
    <li>
        <a href="#">主机<i class="pull-right fa fa-angle-down"></i></a>
        <ul>
          <li><a href="/docs/rancher/v1.6/zh/hosts/">主机简介</a></li>
          <li><a href="/docs/rancher/v1.6/zh/hosts/#docker版本适用对比">支持的Docker版本</a></li>
          <li><a href="/docs/rancher/v1.6/zh/hosts/#主机标签">主机标签</a></li>
          <li><a href="/docs/rancher/v1.6/zh/hosts/#主机调度地址">主机调度地址</a></li>
          <li><a href="/docs/rancher/v1.6/zh/hosts/#在代理后的主机">在代理后的主机</a></li>
          <li><a href="/docs/rancher/v1.6/zh/hosts/custom/">添加自定义主机</a></li>
          <li>
              <a href="#">添加云主机<i class="pull-right fa fa-angle-down"></i></a>
              <ul>
                <li><a href="/docs/rancher/v1.6/zh/hosts/amazon/">添加Amazon EC2主机</a></li>
                <li><a href="/docs/rancher/v1.6/zh/hosts/azure/">添加Azure主机</a></li>
                <li><a href="/docs/rancher/v1.6/zh/hosts/digitalocean/">添加DigitalOcean主机</a></li>
                <li><a href="/docs/rancher/v1.6/zh/hosts/exoscale/">添加Exoscale主机</a></li>
                <li><a href="/docs/rancher/v1.6/zh/hosts/packet/">添加Packet主机</a></li>
                <li><a href="/docs/rancher/v1.6/zh/hosts/rackspace/">添加Rackspace主机</a></li>
                <li><a href="/docs/rancher/v1.6/zh/hosts/other/">添加其他云服务商的主机</a></li>
              </ul>
          </li>
          <li><a href="/docs/rancher/v1.6/zh/hosts/#访问云提供商的主机">访问云提供商的主机</a></li>
          <li><a href="/docs/rancher/v1.6/zh/hosts/#在rancher内删除主机">删除主机</a></li>
        </ul>
    </li>
    <li>
      <a href="#">镜像仓库<i class="pull-right fa fa-angle-down"></i></a>
      <ul>
        <li><a href="/docs/rancher/v1.6/zh/environments/registries/">镜像库</a></li>
        <li><a href="/docs/rancher/v1.6/zh/environments/registries/#不安全的镜像库">不安全的镜像库</a></li>
        <li><a href="/docs/rancher/v1.6/zh/environments/registries/#自签名证书">自签名证书</a></li>
        <li><a href="/docs/rancher/v1.6/zh/environments/registries/#使用亚马逊的ecr镜像库">使用亚马逊的ECR镜像库</a></li>
        <li><a href="/docs/rancher/v1.6/zh/environments/registries/#使用google容器镜像仓库">使用Google容器镜像仓库</a></li>
        <li><a href="/docs/rancher/v1.6/zh/environments/registries/#更改默认的镜像库">更改默认的镜像库</a></li>
        <li><a href="/docs/rancher/v1.6/zh/environments/registries/#限制镜像库的使用">限制镜像库的使用</a></li>
      </ul>
    </li>
    <li><a href="/docs/rancher/v1.6/zh/environments/certificates/">证书</a></li>
    <li>
      <a href="#">系统服务<i class="pull-right fa fa-angle-down"></i></a>
          <ul>
              <li><a href="/docs/rancher/v1.6/zh/rancher-services/">基础设施服务</a></li>
              <li><a href="/docs/rancher/v1.6/zh/rancher-services/networking/">网络</a></li>
              <li><a href="/docs/rancher/v1.6/zh/rancher-services/network-policy/">网络策略</a></li>
              <li><a href="/docs/rancher/v1.6/zh/rancher-services/load-balancer">负载均衡器</a></li>
              <li><a href="/docs/rancher/v1.6/zh/rancher-services/dns-service/">DNS服务</a></li>
              <li><a href="/docs/rancher/v1.6/zh/rancher-services/metadata-service/">Metadata服务</a></li>
              <li>
                  <a href="#">存储服务<i class="pull-right fa fa-angle-down"></i></a>
                  <ul>
                      <li><a href="/docs/rancher/v1.6/zh/rancher-services/storage-service/">存储服务</a></li>
                      <li><a href="/docs/rancher/v1.6/zh/rancher-services/storage-service/rancher-nfs/">Rancher NFS</a></li>
                      <li><a href="/docs/rancher/v1.6/zh/rancher-services/storage-service/rancher-ebs/">Rancher EBS</a></li>
                  </ul>
              </li>
              <li>
                  <a href="#">调度服务<i class="pull-right fa fa-angle-down"></i></a>
                  <ul>
                      <li><a href="/docs/rancher/v1.6/zh/rancher-services/scheduler/">调度器</a></li>
                      <li><a href="/docs/rancher/v1.6/zh/rancher-services/scheduler/#多ip主机调度">多IP主机调度</a></li>
                      <li><a href="/docs/rancher/v1.6/zh/rancher-services/scheduler/#基于资源约束的调度">基于资源约束的调度</a></li>
                      <li><a href="/docs/rancher/v1.6/zh/rancher-services/scheduler/#在主机上调度指定服务">在主机上调度指定服务</a></li>
                  </ul>
              </li>
              <li><a href="/docs/rancher/v1.6/zh/rancher-services/audit-log/">审计日志</a></li>
              <li><a href="/docs/rancher/v1.6/zh/rancher-services/service-accounts/">服务账号</a></li>
           </ul>
    </li>
    <li>
          <a href="#">Cattle<i class="pull-right fa fa-angle-down"></i></a>
          <ul>
                <li><a href="/docs/rancher/v1.6/zh/cattle/stacks/">应用</a></li>
                <li><a href="/docs/rancher/v1.6/zh/cattle/adding-services/">服务</a></li>
                <li><a href="/docs/rancher/v1.6/zh/cattle/volumes/">卷</a></li>
                <li><a href="/docs/rancher/v1.6/zh/cattle/adding-load-balancers/">负载均衡</a></li>
                <li>
                    <a href="#">在UI中配置负载均衡<i class="pull-right fa fa-angle-down"></i></a>
                    <ul>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/adding-load-balancers/#如何在ui上新增一个负载均衡">添加负载均衡</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/adding-load-balancers/#服务规则">服务规则</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/adding-load-balancers/#选择器规则">选择器规则</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/adding-load-balancers/#ssl会话终止">SSL会话终止</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/adding-load-balancers/#负载均衡的会话粘性">负载均衡的会话粘性</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/adding-load-balancers/#自定义haproxycfg">自定义HAProxy配置</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/adding-load-balancers/#标签调度负载均衡">标签调度负载均衡</a></li>
                      </ul>
                </li>
                <li>
                    <a href="#">在CLI和Compose中配置负载均衡<i class="pull-right fa fa-angle-down"></i></a>
                    <ul>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/adding-load-balancers/#用rancher-compose-添加负载均衡">用Rancher Compose 添加负载均衡</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/adding-load-balancers/#源端口">源端口</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/adding-load-balancers/#端口规则">端口规则</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/adding-load-balancers/#证书">证书</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/adding-load-balancers/#自定义配置">自定义HAProxy配置</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/adding-load-balancers/#会话粘性策略">会话粘性策略</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/adding-load-balancers/#load-balancer-example-l7">七层负载均衡示例</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/adding-load-balancers/#内部负载均衡例子">内部负载均衡示例</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/adding-load-balancers/#ssl会话终止-example">SSL会话终止示例</a></li>
                      </ul>
                </li>
                <li><a href="/docs/rancher/v1.6/zh/cattle/adding-external-services/">外部服务</a></li>
                <li><a href="/docs/rancher/v1.6/zh/cattle/adding-service-alias/">服务别名</a></li>
                <li><a href="/docs/rancher/v1.6/zh/cattle/health-checks/">健康检查</a></li>
                <li>
                    <a href="#">调度服务<i class="pull-right fa fa-angle-down"></i></a>
                    <ul>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/scheduling/">调度</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/scheduling/#在ui中添加标签">在UI中设置调度规则</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/scheduling/#在rancher-compose中添加标签">在Rancher Compose中设置调度规则</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/scheduling/#调度标签表">调度标签表</a></li>
                    </ul>
                </li>
                <li><a href="/docs/rancher/v1.6/zh/cattle/upgrading/">升级服务</a></li>
                <li><a href="/docs/rancher/v1.6/zh/cattle/internal-dns-service/">Cattle环境中的内部DNS服务</a></li>
                <li><a href="/docs/rancher/v1.6/zh/cattle/external-dns-service/">外部DNS服务</a></li>
                <li>
                    <a href="#">Rancher-Compose<i class="pull-right fa fa-angle-down"></i></a>
                    <ul>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/rancher-compose/">Rancher Compose</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/rancher-compose/commands/">指令与参数</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/rancher-compose/environment-interpolation/">环境插值</a></li>
                        <li><a href="/docs/rancher/v1.6/zh/cattle/rancher-compose/build/">使用AWS S3构建镜像</a></li>
                    </ul>
                </li>
                <li><a href="/docs/rancher/v1.6/zh/cattle/secrets/">密文 - 实验性的</a></li>
                <li><a href="/docs/rancher/v1.6/zh/cattle/webhook-service/">Webhooks</a></li>
                <li><a href="/docs/rancher/v1.6/zh/cattle/labels/">标签</a></li>
          </ul>
    </li>
    <li>
          <a href="#">Kubernetes<i class="pull-right fa fa-angle-down"></i></a>
          <ul>
              <li><a href="/docs/rancher/v1.6/zh/kubernetes/">启动Kubernetes</a></li>
              <li><a href="/docs/rancher/v1.6/zh/kubernetes/resiliency-planes/">弹性平面</a></li>
              <li><a href="/docs/rancher/v1.6/zh/kubernetes/providers/">Cloud Providers</a></li>
              <li><a href="/docs/rancher/v1.6/zh/kubernetes/private-registry/">私有镜像仓库</a></li>
              <li><a href="/docs/rancher/v1.6/zh/kubernetes/rbac/">RBAC</a></li>
              <li><a href="/docs/rancher/v1.6/zh/kubernetes/disaster-recovery/">灾难恢复</a></li>
              <li><a href="/docs/rancher/v1.6/zh/kubernetes/backups/">备份</a></li>
              <li><a href="/docs/rancher/v1.6/zh/kubernetes/storage/">持久化存储</a></li>
              <li>
                  <a href="#">插件支持<i class="pull-right fa fa-angle-down"></i></a>
                  <ul>
                      <li><a href="/docs/rancher/v1.6/zh/kubernetes/addons/">插件支持</a></li>
                      <li><a href="/docs/rancher/v1.6/zh/kubernetes/addons/#helm">Helm</a></li>
                      <li><a href="/docs/rancher/v1.6/zh/kubernetes/addons/#skydns">SkyDNS</a></li>
                  </ul>
              </li>
              <li>
                  <a href="#">Ingress支持与配置<i class="pull-right fa fa-angle-down"></i></a>
                  <ul>
                      <li><a href="/docs/rancher/v1.6/zh/kubernetes/ingress/">Ingress支持</a></li>
                      <li><a href="/docs/rancher/v1.6/zh/kubernetes/ingress/#基于主机路由配置-ingress-资源">基于主机路由配置Ingress资源</a></li>
                      <li><a href="/docs/rancher/v1.6/zh/kubernetes/ingress/#使用基于路径的路由配置ingress资源">使用基于路径的路由配置Ingress资源</a></li>
                      <li><a href="/docs/rancher/v1.6/zh/kubernetes/ingress/#示例两个负载均衡器使用交替的端口">多个负载均衡器使用不同的端口</a></li>
                      <li><a href="/docs/rancher/v1.6/zh/kubernetes/ingress/#示例使用tls">使用 TLS</a></li>
                      <li><a href="/docs/rancher/v1.6/zh/kubernetes/ingress/#禁用http">禁用HTTP</a></li>
                      <li><a href="/docs/rancher/v1.6/zh/kubernetes/ingress/#示例用户定制">示例用户定制</a></li>
                      <li><a href="/docs/rancher/v1.6/zh/kubernetes/ingress/#示例在所有主机上运行负载均衡器">所有主机运行负载均衡器</a></li>
                      <li><a href="/docs/rancher/v1.6/zh/kubernetes/ingress/#示例在特定主机上运行负载均衡器">特定主机运行负载均衡器</a></li>
                      <li><a href="/docs/rancher/v1.6/zh/kubernetes/ingress/#例将流量导向同一主机上的不同容器">将流量导向同一主机上的不同容器</a></li>
                      <li><a href="/docs/rancher/v1.6/zh/kubernetes/ingress/#示例在同一主机上对容器的流量进行优先级排序">在同一主机上对容器的流量进行优先级排序</a></li>
                  </ul>
              </li>
              <li><a href="/docs/rancher/v1.6/zh/kubernetes/upgrading/">升级Kubernetes</a></li>
              <li><a href="/docs/rancher/v1.6/zh/kubernetes/deleting/">删除Kubernetes</a></li>

          </ul>
    </li>
    <li><a href="/docs/rancher/v1.6/zh/mesos/">Mesos</a></li>
    <li><a href="/docs/rancher/v1.6/zh/swarm/">Swarm - 实验性的 </a></li>
    <li><a href="/docs/rancher/v1.6/zh/windows/">Windows - 实验性的</a></li>
    <li><a href="/docs/rancher/v1.6/zh/native-docker/">以原生Docker命令行的形式使用Rancher</a></li>
    <li>
            <a href="#">应用商店<i class="pull-right fa fa-angle-down"></i></a>
            <ul>
                <li><a href="/docs/rancher/v1.6/zh/catalog/">应用商店</a></li>
                <li><a href="/docs/rancher/v1.6/zh/catalog/private-catalog/">创建私有应用商店</a></li>
            </ul>
        </li>
    <li><a href="#">Rancher命令行<i class="pull-right fa fa-angle-down"></i></a>
        <ul>
            <li><a href="/docs/rancher/v1.6/zh/cli/">Rancher命令行</a></li>
            <li><a href="/docs/rancher/v1.6/zh/cli/commands/">命令和选项</a></li>
            <li><a href="/docs/rancher/v1.6/zh/cli/variable-interpolation/">变量替换</a></li>
        </ul>
    </li>
    <li><a href="/docs/rancher/v1.6/en/api/v2-beta/">API文档</a></li>
    <li><a href="/docs/rancher/v1.6/zh/contributing/">Rancher社区贡献</a></li>
    <li>
        <a href="#">常见问题<i class="pull-right fa fa-angle-down"></i></a>
        <ul>
            <li><a href="/docs/rancher/v1.6/zh/faqs/server/">Rancher Server的常见问题</a></li>
            <li><a href="/docs/rancher/v1.6/zh/faqs/agents/">Rancher Agent的常见问题</a></li>
            <li><a href="/docs/rancher/v1.6/zh/faqs/troubleshooting/">常见的故障排查与修复方法</a></li>
        </ul>
    </li>
    <li>
        <a href="#" class="btn-docs">历史文档<i class="pull-right fa fa-angle-down"></i></a>
        <ul>
            <li><a href="/docs/rancher/v1.5/zh/">Rancher v1.5</a></li>
            <li><a href="/docs/rancher/v1.4/zh/">Rancher v1.4</a></li>
            <li><a href="/docs/rancher/v1.3/zh/">Rancher v1.3</a></li>
            <li><a href="/docs/rancher/v1.2/zh/">Rancher v1.2</a></li>
            <li><a href="/docs/rancher/v1.1/zh/">Rancher v1.1</a></li>
            <li><a href="/docs/rancher/v1.0/en/">Rancher v1.0</a></li>
        </ul>
    </li>
</ul>

</div>
<div class="col span-9">
    <div class="content-container">
        <h2 id="section">命令和选项</h2>
<hr />

<p>Rancher CLI 可以用于操作Rancher中的环境、主机、应用、服务和容器。</p>

<h3 id="rancher-cli-">Rancher CLI 命令</h3>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">catalog</code></td>
      <td><a href="#rancher-catalog-说明">操作应用商店</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config</code></td>
      <td><a href="#rancher-config-说明">设置客户端配置</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">docker</code></td>
      <td><a href="#rancher-docker-说明">在主机上运行docker命令</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">environment</code>, <code class="highlighter-rouge">env</code></td>
      <td><a href="#rancher-environment-说明">操作环境</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">events</code>, <code class="highlighter-rouge">event</code></td>
      <td><a href="#rancher-events-说明">展示资源变更事件</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">exec</code></td>
      <td><a href="#rancher-exec-说明">在容器上运行命令</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">export</code></td>
      <td><a href="#rancher-export-说明">将应用的yml配置文件导出为tar或者本地文件</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">hosts</code>, <code class="highlighter-rouge">host</code></td>
      <td><a href="#rancher-hosts-说明">操作主机</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">logs</code></td>
      <td><a href="#rancher-logs-说明">抓取容器的日志</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ps</code></td>
      <td><a href="#rancher-ps-说明">展示服务／容器</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">restart</code></td>
      <td><a href="#rancher-restart-说明">重启服务／容器</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">rm</code></td>
      <td><a href="#rancher-rm-说明">删除服务、容器、应用、主机、卷</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">run</code></td>
      <td><a href="#rancher-run-说明">运行服务</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">scale</code></td>
      <td><a href="#rancher-scale-说明">设置一个服务运行的容器数量</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ssh</code></td>
      <td><a href="#rancher-ssh-说明">SSH到主机</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">stacks</code>, <code class="highlighter-rouge">stack</code></td>
      <td><a href="#rancher-stacks-说明">操作应用</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">start</code>, <code class="highlighter-rouge">activate</code></td>
      <td><a href="#rancher-startactivate-说明">启动服务、容器、主机、应用</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">stop</code>, <code class="highlighter-rouge">deactivate</code></td>
      <td><a href="#rancher-stopdeactivate-说明">停止服务、容器、主机、应用</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">up</code></td>
      <td><a href="#rancher-up-说明">启动所有服务</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">volumes</code>, <code class="highlighter-rouge">volume</code></td>
      <td><a href="#rancher-volumes-说明">操作卷</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">inspect</code></td>
      <td><a href="#rancher-inspect-说明">查看服务、容器、主机、环境、应用、卷的详情</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">wait</code></td>
      <td><a href="#rancher-wait-说明">等待服务、容器、主机、应用栈、机器、项目模版</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">help</code></td>
      <td>展示命令列表或者某个命令的说明</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<h3 id="rancher-cli--1">Rancher CLI 全局参数</h3>

<p>当使用<code class="highlighter-rouge">rancher</code>时，可以使用不同的全局参数。</p>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--debug</code></td>
      <td>调试日志</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--config</code> value, <code class="highlighter-rouge">-c</code> value</td>
      <td>客户端配置文件 (缺省为 ${HOME}/.rancher/cli.json) [$RANCHER_CLIENT_CONFIG]</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--environment</code> value, <code class="highlighter-rouge">--env</code> value</td>
      <td>环境名字或ID [$RANCHER_ENVIRONMENT]</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--url</code> value</td>
      <td>指定Rancher API接口链接 [$RANCHER_URL]</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--access-key</code> value</td>
      <td>指定Rancher API访问密钥 [$RANCHER_ACCESS_KEY]</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--secret-key</code> value</td>
      <td>指定Rancher API安全密钥 [$RANCHER_SECRET_KEY]</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--host</code> value</td>
      <td>执行docker命令的主机[$RANCHER_DOCKER_HOST]</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--wait</code>, <code class="highlighter-rouge">-w</code></td>
      <td>等待资源到达最终状态</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--wait-timeout</code> value</td>
      <td>等待的超时时间(缺省值: 600秒)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--wait-state</code> value</td>
      <td>等待的状态(正常, 健康等)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--help</code>, <code class="highlighter-rouge">-h</code></td>
      <td>展示帮助说明</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--version</code>, <code class="highlighter-rouge">-v</code></td>
      <td>打印版本信息</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<h4 id="section-1">等待资源</h4>

<p>全局的选项如<code class="highlighter-rouge">--wait</code> 或 <code class="highlighter-rouge">-w</code> 可以用于需逐渐到达最终状态的命令。当编辑Rancher命令的脚本时，使用<code class="highlighter-rouge">-w</code>选项可以让脚本等待资源就绪后再执行下一个命令。等待的超时时间默认时十分钟，但如果你想要改变超时时间，可以使用<code class="highlighter-rouge">--wait-timeout</code>选项。你还可以使用<code class="highlighter-rouge">--wait-state</code>选项来指定资源必须到达某个特定状态后，命令才结束返回。</p>

<h3 id="rancher-catalog-">Rancher Catalog 说明</h3>

<p><code class="highlighter-rouge">rancher catalog</code> 命令提供了操作应用商店模版的相关操作。</p>

<h4 id="section-2">选项</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--quiet</code>, <code class="highlighter-rouge">-q</code></td>
      <td>只展示IDs</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--format</code> value</td>
      <td><code class="highlighter-rouge">json</code>格式或自定义格式: ‘{{.ID}} {{.Template.Id}}’</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--system</code>, <code class="highlighter-rouge">-s</code></td>
      <td>展示系统模版</td>
    </tr>
  </tbody>
</table>

<h4 id="section-3">子命令</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ls</code></td>
      <td>列出应用商店模版</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">install</code></td>
      <td>安装应用商店模版</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">help</code></td>
      <td>展示命令列表或某个命令的说明</td>
    </tr>
  </tbody>
</table>

<h4 id="rancher-catalog-ls">Rancher Catalog Ls</h4>

<p><code class="highlighter-rouge">rancher catalog ls</code>  命令列出环境下的所有模版。</p>

<h5 id="section-4">选项</h5>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--quiet</code>, <code class="highlighter-rouge">-q</code></td>
      <td>只展示IDs</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--format</code> value</td>
      <td><code class="highlighter-rouge">json</code>格式或自定义格式: ‘{{.ID}} {{.Template.Id}}’</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--system</code>, <code class="highlighter-rouge">-s</code></td>
      <td>展示系统模版</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># 列出所有应用商店模版</span>
<span class="gp">$ </span>rancher catalog ls
<span class="c"># 列出运行kubernetes环境中的所有应用商店模版</span>
<span class="gp">$ </span>rancher --env k8sEnv catalog ls
<span class="c"># 列出系统应用商店模版</span>
<span class="gp">$ </span>rancher catalog ls --system
</code></pre>
</div>

<h4 id="rancher-catalog-install">Rancher Catalog install</h4>

<p><code class="highlighter-rouge">rancher catalog install</code>命令在你的环境中安装应用商店模版。</p>

<h5 id="section-5">选项</h5>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">-answers</code> value, <code class="highlighter-rouge">-a</code> value</td>
      <td>模版的参数文件。格式应为<code class="highlighter-rouge">yaml</code>或者<code class="highlighter-rouge">json</code>，并且确保文件有正确的后缀名。</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--name</code> value</td>
      <td>创建的应用的名字</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--system</code>, <code class="highlighter-rouge">-s</code></td>
      <td>安装一个系统模版</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># 安装一个应用模版</span>
<span class="gp">$ </span>rancher catalog install library/route53:v0.6.0-rancher1 --name route53
<span class="c"># 安装一个应用模版并将其标识为系统模版</span>
<span class="gp">$ </span>rancher catalog install library/route53:v0.6.0-rancher1 --name route53 --system
</code></pre>
</div>

<h3 id="rancher-config-">Rancher Config 说明</h3>

<p><code class="highlighter-rouge">rancher config</code> 命令用于设置你的<a href="/docs/rancher/v1.6/zh/cli/#configuring-the-rancher-command-line-interface">Rancher Server的配置</a>.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>rancher config
URL <span class="o">[]</span>: http://&lt;server_ip&gt;:8080
Access Key <span class="o">[]</span>: &lt;accessKey_of_account_api_key&gt;
Secret Key <span class="o">[]</span>:  &lt;secretKey_of_account_api_key&gt;
<span class="c"># 如果超过一个环境，你需要指定一个环境</span>
Environments:
<span class="o">[</span>1] Default<span class="o">(</span>1a5<span class="o">)</span>
<span class="o">[</span>2] k8s<span class="o">(</span>1a10<span class="o">)</span>
Select: 1
INFO[0017] Saving config to /Users/&lt;username&gt;/.rancher/cli.json
</code></pre>
</div>

<h4 id="section-6">选项</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--print</code></td>
      <td><code class="highlighter-rouge">打印当前的配置</code></td>
    </tr>
  </tbody>
</table>

<p>如果你想要打印当前配置，可以使用<code class="highlighter-rouge">----print</code>。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># 显示当前的Rancher的配置</span>
<span class="gp">$ </span>rancher config --print
</code></pre>
</div>

<h3 id="rancher-docker-">Rancher Docker 说明</h3>

<p><code class="highlighter-rouge">rancher docker</code> 命令允许你在某台机器上运行任何Docker命令。 使用 <code class="highlighter-rouge">$RANCHER_DOCKER_HOST</code> 来运行Docker命令. 使用 <code class="highlighter-rouge">--host &lt;hostID&gt;</code> 或者 <code class="highlighter-rouge">--host &lt;hostName&gt;</code> 来选择其他主机。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>rancher --host 1h1 docker ps
</code></pre>
</div>

<h4 id="section-7">选项</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--help-docker</code></td>
      <td>显示 <code class="highlighter-rouge">docker --help</code></td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<blockquote>
  <p><strong>注意：</strong> 如果环境变量<code class="highlighter-rouge">RANCHER_DOCKER_HOST</code>没有设置，你需要通过<code class="highlighter-rouge">--host</code>指定运行Docker命令的主机。</p>
</blockquote>

<h3 id="rancher-environment-">Rancher Environment 说明</h3>

<p><code class="highlighter-rouge">rancher environment</code>命令让你可以操作环境。如果你使用账户API key, 你可以创建和更新环境。如果你使用环境API key，你不能创建和更新其他环境，只能看到你当前的环境。</p>

<h4 id="section-8">选项</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--all</code>, <code class="highlighter-rouge">-a</code></td>
      <td>显示暂停／无效和最近移除的资源</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--quiet</code>, <code class="highlighter-rouge">-q</code></td>
      <td>只显示IDs</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--format</code> value</td>
      <td><code class="highlighter-rouge">json</code> 或者自定义格式: ‘{{.ID}} {{.Environment.Name}}’</td>
    </tr>
  </tbody>
</table>

<h4 id="section-9">子命令</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ls</code></td>
      <td>列出所有环境</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">create</code></td>
      <td>创建一个环境</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">templates</code>, <code class="highlighter-rouge">template</code></td>
      <td>操作环境模版</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">rm</code></td>
      <td>删除环境</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">deactivate</code></td>
      <td>停用环境</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">activate</code></td>
      <td>启用环境</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">help</code></td>
      <td>显示命令列表或者某个命令的帮助</td>
    </tr>
  </tbody>
</table>

<h4 id="rancher-env-ls">Rancher Env Ls</h4>

<p><code class="highlighter-rouge">rancher env ls</code>命令显示Rancher中的所有环境。</p>

<h5 id="section-10">选项</h5>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--all</code>, <code class="highlighter-rouge">-a</code></td>
      <td>显示暂停／无效和最近移除的资源</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--quiet</code>, <code class="highlighter-rouge">-q</code></td>
      <td>只显示IDs</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--format</code> value</td>
      <td><code class="highlighter-rouge">json</code> 或者自定义格式: ‘{{.ID}} {{.Environment.Name}}’</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>rancher env ls
ID        NAME      ORCHESTRATION   STATE     CREATED
1a5       Default   Cattle          active    2016-08-15T19:20:46Z
1a6       k8sEnv    Kubernetes      active    2016-08-17T03:25:04Z
<span class="c"># 只列出环境ID</span>
<span class="gp">$ </span>rancher env ls -q
1a5
1a6
</code></pre>
</div>

<h4 id="rancher-env-create">Rancher Env Create</h4>

<p><code class="highlighter-rouge">rancher env create</code>命令用于创建一个新的环境，环境的缺省的编排引擎使用cattle。</p>

<h5 id="section-11">选项</h5>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--template</code> value, <code class="highlighter-rouge">-t</code> value</td>
      <td>创建环境的模版（缺省: “Cattle”）</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># 创建一个环境</span>
<span class="gp">$ </span>rancher env create newCattleEnv
<span class="c"># 创建一个kubernetes 环境</span>
<span class="gp">$ </span>rancher env create -t kubernetes newk8sEnv
</code></pre>
</div>

<h4 id="rancher-env-template">Rancher Env Template</h4>

<p><code class="highlighter-rouge">rancher env template</code> 命令用于导出或者导入环境模版。</p>

<h5 id="section-12">选项</h5>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--all</code>, <code class="highlighter-rouge">-a</code></td>
      <td>显示暂停／无效和最近移除的资源</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--quiet</code>, <code class="highlighter-rouge">-q</code></td>
      <td>只显示IDs</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--format</code> value</td>
      <td><code class="highlighter-rouge">json</code> 或者自定义格式: ‘{{.ID}} {{.ProjectTemplate.Name}}’</td>
    </tr>
  </tbody>
</table>

<h5 id="section-13">子命令</h5>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">export</code></td>
      <td>将一个环境模版导出到标准输出</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">import</code></td>
      <td>从一个文件中导入环境模版</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">help</code></td>
      <td>显示命令列表或者某个命令的帮助</td>
    </tr>
  </tbody>
</table>

<h4 id="rancher-env-rm">Rancher Env Rm</h4>

<p><code class="highlighter-rouge">rancher env rm</code>命令用于删除环境。可以使用环境名字或者ID来删除。<br />
<code class="highlighter-rouge">bash
# 使用名字删除环境
$ rancher env rm newk8sEnv
# 使用ID删除环境
$ rancher env rm 1a20
</code></p>

<h4 id="rancher-env-deactivate">Rancher Env Deactivate</h4>

<p><code class="highlighter-rouge">rancher env deactivate</code>命令停用一个环境。用环境名字或者ID来指定停用的环境。<br />
#### Rancher Env Activate</p>

<p><code class="highlighter-rouge">rancher env activate</code> 命令启用一个环境。用环境名字或者ID来指定启用的环境。</p>

<h3 id="rancher-events-">Rancher Events 说明</h3>

<p><code class="highlighter-rouge">rancher events</code> 命令列出Rancher Server中所有出现的事件。</p>

<h4 id="section-14">选项</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--format</code> value</td>
      <td><code class="highlighter-rouge">json</code> 或者自定义格式: ‘{{.Name}} {{.Data.resource.kind}}’</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--reconnect</code>, <code class="highlighter-rouge">-r</code></td>
      <td>出错时重连接</td>
    </tr>
  </tbody>
</table>

<h3 id="rancher-exec-">Rancher Exec 说明</h3>

<p><code class="highlighter-rouge">rancher exec</code> 命令可以用于执行进入在Rancher的容器。 用户不需要知道容器在哪个宿主机，只需要知道Rancher中的容器ID（如 <code class="highlighter-rouge">1i1</code>, <code class="highlighter-rouge">1i788</code>）。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># 执行进入一个容器</span>
<span class="gp">$ </span>rancher <span class="nb">exec</span> -i -t 1i10
</code></pre>
</div>

<h4 id="section-15">选项</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--help-docker</code></td>
      <td>显示<code class="highlighter-rouge">docker exec --help</code></td>
    </tr>
  </tbody>
</table>

<p>在<code class="highlighter-rouge">rancher exec</code> 命令找到容器后，它在指定的主机和容器执行 <code class="highlighter-rouge">docker exec</code>命令。 可以通过使用<code class="highlighter-rouge">--help-docker</code>来显示 <code class="highlighter-rouge">docker exec</code>的说明。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># 显示docker exec --help</span>
<span class="gp">$ </span>rancher <span class="nb">exec</span> --help-docker
</code></pre>
</div>

<h3 id="rancher-export-">Rancher Export 说明</h3>

<p><code class="highlighter-rouge">rancher export</code> 命令将一个应用的 <code class="highlighter-rouge">docker-compose.yml</code> 和 <code class="highlighter-rouge">rancher-compose.yml</code>文件导出为tar包。</p>

<h4 id="section-16">选项</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--file</code> value, <code class="highlighter-rouge">-f</code> value</td>
      <td>输出到一个指定文件中。使用 - 可以输出到标准输出流</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--system</code>, <code class="highlighter-rouge">-s</code></td>
      <td>是否导出整个环境，包括系统应用。</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># 将一个应用中所有服务的docker-compose.yml和 rancher-compose.yml导出为tar包。</span>
<span class="gp">$ </span>rancher <span class="nb">export </span>mystack &gt; files.tar
<span class="gp">$ </span>rancher <span class="nb">export</span> -f files.tar mystack
</code></pre>
</div>

<h3 id="rancher-hosts-">Rancher hosts 说明</h3>

<p><code class="highlighter-rouge">rancher hosts</code>命令可用于操作环境中的主机。</p>

<h4 id="section-17">选项</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--all</code>, <code class="highlighter-rouge">-a</code></td>
      <td>显示暂停／无效和最近移除的资源</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--quiet</code>, <code class="highlighter-rouge">-q</code></td>
      <td>只显示IDs</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--format</code> value</td>
      <td><code class="highlighter-rouge">json</code> 或者自定义格式: ‘{{.ID}} {{.Host.Hostname}}’</td>
    </tr>
  </tbody>
</table>

<h4 id="section-18">子命令</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ls</code></td>
      <td>显示主机列表</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">create</code></td>
      <td>创建一个主机</td>
    </tr>
  </tbody>
</table>

<h4 id="rancher-hosts-ls">Rancher Hosts Ls</h4>

<p><code class="highlighter-rouge">rancher hosts ls</code> 命令列出所有主机。</p>

<h5 id="section-19">选项</h5>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--all</code>, <code class="highlighter-rouge">-a</code></td>
      <td>显示暂停／无效和最近移除的资源</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--quiet</code>, <code class="highlighter-rouge">-q</code></td>
      <td>只显示IDs</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--format</code> value</td>
      <td><code class="highlighter-rouge">json</code> 或者自定义格式: ‘{{.ID}} {{.Host.Hostname}}’</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>rancher hosts ls
ID        HOSTNAME      STATE     IP
1h1       host-1        active    111.222.333.444
1h2       host-3        active    111.222.333.555
1h3       host-2        active    111.222.333.666
1h4       host-4        active    111.222.333.777
1h5       host-5        active    111.222.333.888
1h6       host-6        active    111.222.333.999
<span class="c"># 只显示主机ID</span>
<span class="gp">$ </span>rancher hosts ls -q
1h1
1h2
1h3
1h4
1h5
1h6
</code></pre>
</div>

<h4 id="rancher-hosts-create">Rancher Hosts Create</h4>

<p><code class="highlighter-rouge">rancher hosts create</code>命令用于创建 <a href="/docs/rancher/v1.6/zh/hosts/">主机</a>. 当创建主机时，需要调用Docker Machine命令，因此需要提供该命令所需要的选项。</p>

<h3 id="rancher-logs-">Rancher Logs 说明</h3>

<p><code class="highlighter-rouge">rancher logs</code> 用于抓取指定容器名或容器ID的容器的日志。</p>

<h4 id="section-20">选项</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--service</code>, <code class="highlighter-rouge">-s</code></td>
      <td>显示服务日志</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--sub-log</code></td>
      <td>显示服务副日志</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--follow</code>, <code class="highlighter-rouge">-f</code></td>
      <td>设置日志继续输出</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--tail</code> value</td>
      <td>显示日志的最后的几行 (缺省: 100)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--since</code> value</td>
      <td>显示自某个时间戳后的日志</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--timestamps</code>, <code class="highlighter-rouge">-t</code></td>
      <td>显示时间戳</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># 获取某个容器ID对应容器的最后50行日志</span>
<span class="gp">$ </span>rancher logs --tail 50 &lt;ID&gt;
<span class="c"># 使用容器名来查看日志</span>
<span class="gp">$ </span>rancher logs -f &lt;stackName&gt;/&lt;serviceName&gt;
</code></pre>
</div>

<h3 id="rancher-ps-">Rancher ps 说明</h3>

<p><code class="highlighter-rouge">rancher ps</code> 命令显示Rancher中的所有服务或者容器。如果不附加任何选项，该命令会返回环境中所有的服务。</p>

<h4 id="section-21">选项</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--all</code>, <code class="highlighter-rouge">-a</code></td>
      <td>显示暂停／无效和最近移除的资源</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--system</code>, <code class="highlighter-rouge">-s</code></td>
      <td>显示系统资源</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--containers</code>, <code class="highlighter-rouge">-c</code></td>
      <td>显示容器</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--quiet</code>, <code class="highlighter-rouge">-q</code></td>
      <td>只显示IDs</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--format</code> value</td>
      <td><code class="highlighter-rouge">json</code> 或者自定义格式: ‘{{.Service.Id}} {{.Service.Name}} {{.Service.LaunchConfig.ImageUuid}}’</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># 列出所有服务</span>
<span class="gp">$ </span>rancher ps
ID        TYPE      NAME           IMAGE     STATE        SCALE     ENDPOINTS   DETAIL
1s1       service   Default/blog   ghost     activating   3                     Waiting <span class="k">for</span> <span class="o">[</span>instance:Default_blog_3]. Instance status: Storage : Downloading
<span class="c"># 列出所有容器</span>
<span class="gp">$ </span>rancher ps -c
ID        NAME             IMAGE                           STATE     HOST      DETAIL
1i1       Default_blog_1   ghost                           running   1h1
1i2       Default_blog_2   ghost                           running   1h2
1i3       Default_blog_3   ghost                           running   1h3
</code></pre>
</div>

<p><code class="highlighter-rouge">detail</code> 一列提供了服务的当前状态。</p>

<h3 id="rancher-restart-">Rancher restart 说明</h3>

<p><code class="highlighter-rouge">rancher restart</code>可以用于重启任何主机、服务和容器。</p>

<h4 id="section-22">选项</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--type</code> value</td>
      <td>指定重启的类型 (服务, 容器)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--batch-size</code> value</td>
      <td>一次中重启的容器数量 (缺省值: 1)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--interval</code> value</td>
      <td>两次重启的间隔时间，单位ms (缺省值: 1000)</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># 通过服务、容器、主机的ID重启</span>
<span class="gp">$ </span>rancher restart &lt;ID&gt;
<span class="c"># 通过服务、容器、主机的名字重启</span>
<span class="gp">$ </span>rancher restart &lt;stackName&gt;/&lt;serviceName&gt;
</code></pre>
</div>

<p><br /></p>

<blockquote>
  <p><strong>注意：</strong> 服务里中需要包含了应用的名字，以保证指定了正确的服务。</p>
</blockquote>

<h3 id="rancher-rm-">Rancher rm 说明</h3>

<p><code class="highlighter-rouge">rancher rm</code> 命令用于删除资源，比如主机、应用栈、服务、容器或者卷。</p>

<h4 id="section-23">选项</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--type</code> value</td>
      <td>指定删除的特定类型</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--stop</code>, <code class="highlighter-rouge">-s</code></td>
      <td>在删除前首先暂停资源</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>rancher rm &lt;ID&gt;
</code></pre>
</div>

<h3 id="rancher-run-">Rancher run 说明</h3>

<p><code class="highlighter-rouge">run</code> 命令以1个容器的规模来部署一个服务。当创建服务时，如果想将其置于某个应用栈中， 需要提供<code class="highlighter-rouge">--name</code>和<code class="highlighter-rouge">stackName/serviceName</code>。如果<code class="highlighter-rouge">--name</code> 没有提供，那么新建的服务的名字是Docker提供的容器名，且处于 <code class="highlighter-rouge">Default</code> 应用中。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>rancher run --name App2/app nginx
<span class="c"># CLI返回新建服务的ID</span>
1s3
<span class="gp">$ </span>rancher -i -t --name serviceA ubuntu:14.04.3
1s4
</code></pre>
</div>
<p>如果要在主机上公开一个端口，那么该主机的端口必须可用。Rancher会自动调度容器到端口可用的主机上。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>rancher -p 2368:2368 --name blog ghost
1s5
</code></pre>
</div>

<h3 id="rancher-scale-">Rancher scale 说明</h3>

<p>当你使用<code class="highlighter-rouge">rancher run</code>创建一个服务时，服务的规模缺省是1。可以使用<code class="highlighter-rouge">rancher scale</code>命令来扩容某个服务。可以通过名字或者ID来指定服务。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>rancher scale &lt;stackName&gt;/&lt;serviceName&gt;<span class="o">=</span>5 &lt;serviceID&gt;<span class="o">=</span>3
</code></pre>
</div>

<h3 id="rancher-ssh-">Rancher ssh 说明</h3>

<p><code class="highlighter-rouge">rancher ssh</code> 用于ssh到UI创建的某个主机中。它无法ssh通过<a href="/docs/rancher/v1.6/zh/hosts/custom/">自定义</a> 命令添加的主机。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>rancher ssh &lt;hostID&gt;
</code></pre>
</div>

<h3 id="rancher-stacks-">Rancher stacks 说明</h3>

<p><code class="highlighter-rouge">rancher stacks</code>命令可以操作环境中的应用。</p>

<h4 id="section-24">选项</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--system</code>, <code class="highlighter-rouge">-s</code></td>
      <td>显示系统资源</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--quiet</code>, <code class="highlighter-rouge">-q</code></td>
      <td>只显示ID</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--format</code> value</td>
      <td><code class="highlighter-rouge">json</code> 或者自定义格式: ‘{{.ID}} {{.Stack.Name}}’</td>
    </tr>
  </tbody>
</table>

<h4 id="section-25">命令</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ls</code></td>
      <td>列出应用</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">create</code></td>
      <td>创建一个应用</td>
    </tr>
  </tbody>
</table>

<h4 id="rancher-stacks-ls">Rancher Stacks Ls</h4>

<p><code class="highlighter-rouge">rancher stacks ls</code> 命令列出指定环境中的应用。</p>

<h5 id="section-26">选项</h5>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--system</code>, <code class="highlighter-rouge">-s</code></td>
      <td>显示系统资源</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--quiet</code>, <code class="highlighter-rouge">-q</code></td>
      <td>只显示IDs</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--format</code> value</td>
      <td><code class="highlighter-rouge">json</code> 或者自定义格式: ‘{{.ID}} {{.Stack.Name}}’</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">#列出所有应用栈</span>
<span class="gp">$ </span>rancher stacks ls
ID        NAME        STATE      CATALOG                           SYSTEM    DETAIL
1e1       zookeeper   healthy    catalog://community:zookeeper:1   <span class="nb">false
</span>1e2       Default     degraded                                     <span class="nb">false
</span>1e3       App1        healthy                                      <span class="nb">false</span>
<span class="c"># 只列出应用栈IDs</span>
<span class="gp">$ </span>rancher stacks ls -q
1e1
1e2
1e3
</code></pre>
</div>

<h4 id="rancher-stacks-create">Rancher Stacks Create</h4>

<p><code class="highlighter-rouge">rancher stacks create</code> 命令用于创建新的应用。应用可以为空的或者从<code class="highlighter-rouge">docker-compose.yml</code> 和 <code class="highlighter-rouge">rancher-compose.yml</code>文件中创建。</p>

<h5 id="section-27">选项</h5>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--start</code></td>
      <td>在创建后启动应用</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--system</code>, <code class="highlighter-rouge">-s</code></td>
      <td>创建一个系统应用</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--empty</code>, <code class="highlighter-rouge">-e</code></td>
      <td>创建一个空的应用</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--quiet</code>, <code class="highlighter-rouge">-q</code></td>
      <td>只展示IDs</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--docker-compose</code> value, <code class="highlighter-rouge">-f</code> value</td>
      <td>Docker Compose 文件 (缺省: “docker-compose.yml”)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--rancher-compose</code> value, <code class="highlighter-rouge">-r</code> value</td>
      <td>Rancher Compose 文件 (缺省: “rancher-compose.yml”)</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># 创建一个空的应用</span>
<span class="gp">$ </span>rancher stacks create NewStack -e
<span class="c"># 从一个docker-compose和rancher-compose文件创建应用</span>
<span class="c"># 以及在创建后运行应用</span>
<span class="gp">$ </span>rancher stacks create NewStack -f dc.yml -r rc.yml --start
</code></pre>
</div>

<h3 id="rancher-startactivate-">Rancher start/activate 说明</h3>

<p><code class="highlighter-rouge">rancher start</code> 或 <code class="highlighter-rouge">rancher activate</code> 命令启动指定的资源类型，如主机、服务或容器。</p>

<h4 id="section-28">选项</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--type</code> value</td>
      <td>启动指定的类型 (服务, 容器, 主机, 应用)</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># 用资源ID来启动</span>
<span class="gp">$ </span>rancher start &lt;ID&gt;
<span class="c"># 用资源名字来启动</span>
<span class="gp">$ </span>rancher start &lt;stackName&gt;/&lt;serviceName&gt;
</code></pre>
</div>

<p><br /></p>

<blockquote>
  <p><strong>注意：</strong> 为了保证指定了正确的服务，服务名中需要包含应用的名字。</p>
</blockquote>

<h3 id="rancher-stopdeactivate-">Rancher stop/deactivate 说明</h3>

<p><code class="highlighter-rouge">rancher stop</code> 或 <code class="highlighter-rouge">rancher deactivate</code> 命令用于停止指定的资源类型，如主机、服务和容器。</p>

<h4 id="section-29">选项</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--type</code> value</td>
      <td>停止指定的资源类型 (服务, 容器, 主机, 应用)</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># 用ID来停止</span>
<span class="gp">$ </span>rancher stop &lt;ID&gt;
<span class="c"># 用名字来停止</span>
<span class="gp">$ </span>rancher stop &lt;stackName&gt;/&lt;serviceName&gt;
</code></pre>
</div>

<p><br /></p>

<blockquote>
  <p><strong>注意：</strong> 为了保证指定了正确的服务，服务名中需要包含应用的名字。</p>
</blockquote>

<h3 id="rancher-up-">Rancher up 说明</h3>

<p><code class="highlighter-rouge">rancher up</code>命令类似于 Docker Compose的<code class="highlighter-rouge">up</code> 命令。</p>

<h4 id="section-30">选项</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--pull</code>, <code class="highlighter-rouge">-p</code></td>
      <td>在升级前在所有主机上先拉取镜像</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">-d</code></td>
      <td>不阻塞和记录日志</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--upgrade</code>, <code class="highlighter-rouge">-u</code>, <code class="highlighter-rouge">--recreate</code></td>
      <td>如果服务发生变更则升级</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--force-upgrade</code>, <code class="highlighter-rouge">--force-recreate</code></td>
      <td>不管服务有无变更，都进行升级</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--confirm-upgrade</code>, <code class="highlighter-rouge">-c</code></td>
      <td>确认升级成功和删除旧版本的容器</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--rollback</code>, <code class="highlighter-rouge">-r</code></td>
      <td>回滚到之前部署的版本</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--batch-size</code> value</td>
      <td>一次升级的容器数量 (缺省: 2)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--interval</code> value</td>
      <td>更新的间隔，单位毫秒 (缺省: 1000)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--rancher-file</code> value</td>
      <td>指定一个新的Rancher compose文件 (缺省: rancher-compose.yml)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--env-file</code> value, <code class="highlighter-rouge">-e</code> value</td>
      <td>指定一个包含了环境变变量的文件。格式应为<code class="highlighter-rouge">yaml</code>或者<code class="highlighter-rouge">json</code>，并且确保文件有正确的后缀名。</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--file</code> value, <code class="highlighter-rouge">-f</code> value</td>
      <td>指定一个或多个新的compose文件 (缺省: docker-compose.yml) [$COMPOSE_FILE]</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--stack</code> value, <code class="highlighter-rouge">-s</code> value</td>
      <td>指定一个新的项目名字(缺省: 目录名)</td>
    </tr>
  </tbody>
</table>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># 在末尾还上 -d，防止阻塞和记录日志</span>
<span class="gp">$ </span>rancher up -s &lt;stackName&gt; -d
</code></pre>
</div>

<h3 id="rancher-volumes-">Rancher volumes 说明</h3>

<p><code class="highlighter-rouge">rancher volumes</code> 命令用于操作卷。</p>

<h4 id="section-31">选项</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--all</code>, <code class="highlighter-rouge">-a</code></td>
      <td>显示暂停／无效和最近移除的资源</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--quiet</code>, <code class="highlighter-rouge">-q</code></td>
      <td>只显示IDs</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--format</code> value</td>
      <td><code class="highlighter-rouge">json</code> 或者自定义格式: ‘{{.ID}} {{.Volume.Name}}’</td>
    </tr>
  </tbody>
</table>

<h4 id="section-32">命令</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ls</code></td>
      <td>列出卷</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">rm</code></td>
      <td>删除一个卷</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">create</code></td>
      <td>创建一个卷</td>
    </tr>
  </tbody>
</table>

<h4 id="rancher-volume-ls">Rancher Volume LS</h4>

<p><code class="highlighter-rouge">rancher volume ls</code>命令列出环境中的所有卷。</p>

<h5 id="section-33">选项</h5>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--all</code>, <code class="highlighter-rouge">-a</code></td>
      <td>显示暂停／无效和最近移除的资源</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--quiet</code>, <code class="highlighter-rouge">-q</code></td>
      <td>只显示IDs</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--format</code> value</td>
      <td><code class="highlighter-rouge">json</code> 或者自定义格式: ‘{{.ID}} {{.Volume.Name}}’</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>rancher volumes ls
ID        NAME                       STATE      DRIVER        DETAIL
1v1                                  active
1v2                                  active
1v3                                  detached
1v4                                  active
1v5                                  detached
1v6                                  detached
1v7       rancher-agent-state        active     <span class="nb">local</span>
</code></pre>
</div>

<h4 id="rancher-volume-rm">Rancher Volume Rm</h4>

<p><code class="highlighter-rouge">rancher volume rm</code> 命令用于删除卷。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>rancher volumes rm &lt;VOLUME_ID&gt;
</code></pre>
</div>

<h4 id="rancher-volume-create">Rancher Volume Create</h4>

<p><code class="highlighter-rouge">rancher volume create</code> 用于创建卷。</p>

<h5 id="section-34">选项</h5>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--driver</code> value</td>
      <td>指定卷驱动</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--opt</code> value</td>
      <td>设置驱动特定的 key/value 选项</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># 使用 Rancher NFS 驱动创建新的卷</span>
<span class="gp">$ </span>rancher volume create NewVolume --driver rancher-nfs
</code></pre>
</div>

<h3 id="rancher-inspect-">Rancher inspect 说明</h3>

<p><code class="highlighter-rouge">rancher inspect</code> 用于查看资源的详情。</p>

<h4 id="section-35">选项</h4>

<table>
  <thead>
    <tr>
      <th>名字</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">--type</code> value</td>
      <td>查看指定的类型 (服务, 容器, 主机)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--links</code></td>
      <td>在资源详情中包含操作和链接的URL</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">--format</code> value</td>
      <td><code class="highlighter-rouge">json</code> 或者自定义格式: ‘{{.kind}}’ (默认: “json”)</td>
    </tr>
  </tbody>
</table>

<p><br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># 用ID来查看详情</span>
<span class="gp">$ </span>rancher inspect &lt;ID&gt;
<span class="c"># 用名字来查看详情</span>
<span class="gp">$ </span>rancher inspect &lt;stackName&gt;/&lt;serviceName&gt;
</code></pre>
</div>

<p><br /></p>

<blockquote>
  <p><strong>注意：</strong> 为了保证指定了正确的服务，服务名中需要包含应用的名字。</p>
</blockquote>

<h3 id="rancher-wait-">Rancher wait 说明</h3>

<p><code class="highlighter-rouge">rancher wait</code> 命令用于等待资源完成操作。 它对自动化Rancher命令十分有用，可以在脚本中用于等待某个资源就绪后再执行更多操作。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>rancher start 1i1
<span class="gp">$ </span>rancher <span class="nb">wait </span>1i1
</code></pre>
</div>

    </div>
</div>
</div>
</div>

<div class="row wrap">
<a class="btn btn-primary pull-right" href="https://github.com/rancher/rancher.github.io/tree/master/rancher/v1.6/zh/cli/commands/index.md">Edit this page <i class="fa fa-pencil"></i></a>
</div>

<footer class="clearfix">
  <div class="wrap">
    <div class=""><!--bottom footer-->
      <div class="row">
          <div class="col span-6">
              <ul id="menu-footer" class="list-inline">
                  <li id="menu-item-14151" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14151"><a title="About Rancher Labs" href="http://rancher.com/about/">About Rancher Labs</a></li>
                  <li id="menu-item-11352" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11352"><a title="Contact" href="http://rancher.com/contact/">Contact</a></li>
                  <li id="menu-item-14152" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14152"><a title="Privacy" href="http://rancher.com/privacy/">Privacy</a></li>
                  <li id="menu-item-15635" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-15635"><a title="Careers" href="http://rancher.com/careers/">Careers</a></li>
                  
                  <li id="menu-item-14151" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14151"><a title="English Docs" href="https://rancher.com/docs/rancher/latest/en/">English Docs</a></li>
                  
              </ul>
              <p>Copyright &copy; 2014-2017 <a href="http://rancher.com">Rancher Labs</a>. All Rights Reserved.</p>
          </div>
          <div class="col span-6 text-right">
              <ul class="list-inline">
                  <li><a href="https://github.com/rancher/rancher" target="_blank"><img src="http://rancher.com/wp-content/themes/rancher-2016/assets/images/social-white-github.png" alt="Rancher Labs GitHub"></a></li>
                  <li><a href="https://twitter.com/Rancher_Labs" target="_blank"><img src="http://rancher.com/wp-content/themes/rancher-2016/assets/images/social-white-twitter.png" alt="Rancher Labs Twitter"></a></li>
                  <li><a href="https://slack.rancher.io/" target="_blank"><img src="http://rancher.com/wp-content/themes/rancher-2016/assets/images/social-white-slack.png" alt="Rancher Labs Slack"></a></li>
                  <li><a href="https://www.linkedin.com/groups/6977008/profile" target="_blank"><img src="http://rancher.com/wp-content/themes/rancher-2016/assets/images/social-white-linkedin.png" alt="Rancher Labs LinkedIn"></a></li>
                  <li><a href="https://www.facebook.com/rancherlabs/" target="_blank"><img src="http://rancher.com/wp-content/themes/rancher-2016/assets/images/social-white-fb.png" alt="Rancher Labs Facebook"></a></li>
              </ul>
          </div>
      </div>
    </div><!--bottom footer-->
    </div>
</footer>
<script src="/docs/vendor/jquery.js?t=2017-12-04 13:23:19 -0800"></script>
<script src="/docs/js/jquery.slicknav.min.js?t=2017-12-04 13:23:19 -0800"></script>
<script src="/docs/js/rancher-docs.js?t=2017-12-04 13:23:19 -0800"></script>
<!-- Start of Google Analytics -->
<script>
(function(i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
ga('create', 'UA-56382716-3', 'auto');
ga('send', 'pageview');
</script>
<!-- End of Google Analytics -->
<!-- Start of Async HubSpot Analytics Code -->
<script type="text/javascript">
(function(d, s, i, r) {
    if (d.getElementById(i)) { return; }
    var n = d.createElement(s),
        e = d.getElementsByTagName(s)[0];
    n.id = i;
    n.src = '//js.hs-analytics.net/analytics/' + (Math.ceil(new Date() / r) * r) + '/468859.js';
    e.parentNode.insertBefore(n, e);
})(document, "script", "hs-analytics", 300000);
</script>
<!-- End of Async HubSpot Analytics Code -->
</body>

</html>

